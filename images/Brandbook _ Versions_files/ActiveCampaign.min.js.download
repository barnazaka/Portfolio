var ActiveCampaign_RS=function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o,i,r,s;const n=t(function(){if(s)return r;s=1;const e=i?o:(i=1,o=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)});function t(e,t,o){return"function"==typeof o.join?o.join(e):e[0]+t+e[1]}function n(e,t,o){return"function"!=typeof o.isValid||o.isValid(e,t)}function a(t){return e(t)||Array.isArray(t)||"function"==typeof t}return r=function(o,i,r){if(e(r)||(r={default:r}),!a(o))return void 0!==r.default?r.default:o;"number"==typeof i&&(i=String(i));const s=Array.isArray(i),l="string"==typeof i,u=r.separator||".",c=r.joinChar||("string"==typeof u?u:".");if(!l&&!s)return o;if(l&&i in o)return n(i,o,r)?o[i]:r.default;let f=s?i:function(e,t,o){if("function"==typeof o.split)return o.split(e);return e.split(t)}(i,u,r),d=f.length,p=0;do{let e=f[p];for("number"==typeof e&&(e=String(e));e&&"\\"===e.slice(-1);)e=t([e.slice(0,-1),f[++p]||""],c,r);if(e in o){if(!n(e,o,r))return r.default;o=o[e]}else{let i=!1,s=p+1;for(;s<d;)if(e=t([e,f[s++]],c,r),i=e in o){if(!n(e,o,r))return r.default;o=o[e],p=s-1;break}if(!i)return r.default}}while(++p<d&&a(o));return p===d?o:r.default}}()),a={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}};const l=new class{constructor(e,t){this.level=+t||a.ERROR.value,this.scope=e||""}setLogLevel(e){if(e&&"string"==typeof e){const t=e.toUpperCase();this.level=a[t]?a[t].value:this.level}}setScope(e){this.scope=e||this.scope}log(...e){this.logBase(e,a.LOG.value)}info(...e){this.logBase(e,a.INFO.value)}debug(...e){this.logBase(e,a.DEBUG.value)}warn(...e){this.logBase(e,a.WARN.value)}error(...e){this.logBase(e,a.ERROR.value)}logBase(e,t){if(this.level<=t){Object.values(a).find((e=>e.value===t)).method(...this.getLogData(e))}}getLogData(e){if(Array.isArray(e)&&e.length>0){let t="%c RS SDK";this.scope&&(t=`${t} - ${this.scope}`);t=`${t} %c ${e[0].trim()}`;const o=[];return o.push(t),o.push("font-weight: bold; background: black; color: white;"),o.push("font-weight: normal;"),o.push(...e.slice(1)),o}return e}}("ActiveCampaign");return e.ActiveCampaign=class{constructor(e,t,o){t.logLevel&&l.setLogLevel(t.logLevel),this.actId=e.actid,this.name="ACTIVE_CAMPAIGN",({shouldApplyDeviceModeTransformation:this.shouldApplyDeviceModeTransformation,propagateEventsUntransformedOnError:this.propagateEventsUntransformedOnError,destinationId:this.destinationId}=null!=o?o:{})}init(){var e,t,o,i,r;this.actId?(e=this.actId,t=window,o=document,t.visitorGlobalObjectAlias="vgo",t[t.visitorGlobalObjectAlias]=t[t.visitorGlobalObjectAlias]||function(){(t[t.visitorGlobalObjectAlias].q=t[t.visitorGlobalObjectAlias].q||[]).push(arguments)},t[t.visitorGlobalObjectAlias].l=(new Date).getTime(),(i=o.createElement("script")).src="https://diffuser-cdn.app-us1.com/diffuser/diffuser.js",i.async=!0,i.setAttribute("data-loader","RS_JS_SDK"),(r=o.getElementsByTagName("script")[0]).parentNode.insertBefore(i,r),window.vgo("setAccount",e),window.vgo("setTrackByDefault",!0),window.vgo("process")):l.error("actId is required")}isLoaded(){return!!window.vgo}isReady(){return this.isLoaded()}page(e){const{message:t}=e,o=n(t,"context.traits.email")||n(t,"traits.email");o&&window.vgo("setEmail",o),window.vgo("process")}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
//# sourceMappingURL=ActiveCampaign.min.js.map
