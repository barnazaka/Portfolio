(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{123:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return u})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return i}));var a=function(t,e,n){var a;return function(){var r=null,s=arguments,i=function(){a=null,n||t.apply(r,s)},o=n&&!a;clearTimeout(a),a=window.setTimeout(i,e),o&&t.apply(r,s)}},r=function(t){var e=t.replace("#","");return.299*parseInt(e.slice(0,2),16)+.587*parseInt(e.slice(2,4),16)+.114*parseInt(e.slice(4,6),16)>186?"#000000":"#FFFFFF"},s=function(t){var e="";if(t>=60&&t<3600){var n=Math.floor(t/60);e=n+" Min";var a=60===n?0:Math.floor(t%60);return e+(a>0?" "+a+" Sec":"")}if(t>=3600&&t<86400){var r=Math.floor(t/3600);e=r+" Hr";var s=t%3600<60||24===r?0:Math.floor(t%3600/60);return e+(s>0?" "+s+" Min":"")}if(t>=86400){var i=Math.floor(t/86400);e=i+" Day";var o=t%86400<3600||i>=364?0:Math.floor(t%86400/3600);return e+(o>0?" "+o+" Hr":"")}return Math.floor(t)+" Sec"},i=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=1024),void 0===n&&(n=!1);var a=t;return t.length>e&&(a=t.substring(0,e)),n&&(a+="..."),a},o=function(t,e){return null===t||0===t?{time:"",unit:""}:t<3600?{time:Number((t/60).toFixed(1)),unit:e.minute}:t<86400?{time:Number((t/3600).toFixed(1)),unit:e.hour}:{time:Number((t/86400).toFixed(1)),unit:e.day}};function u(t){try{var e=String(t).toLowerCase();return Boolean(JSON.parse(e))}catch(n){return!1}}function l(t){return t.slice().sort((function(t,e){return t-e}))}function c(t,e){var n,a,r,s=(a=1,(r=e)<(n=0)?n:r>a?a:r),i=(t.length-1)*s,o=Math.floor(i),u=i-o;return void 0!==t[o+1]?t[o]+u*(t[o+1]-t[o]):t[o]}var d=function(t,e){var n=l(t);return e.map((function(t){return c(n,t)}))};function f(){return f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},f.apply(this,arguments)}var h=/{{(.*?)}}/g,m=function(t){return(t||"").replace(/\b(\w)/g,(function(t){return t.toUpperCase()}))},v=function(t){var e=t.user,n=null!=e&&e.name?e.name.split(" ").shift():"";return m(n)},g=function(t){var e=t.user;if(e&&e.name){var n=e.name.split(" ").length>1?e.name.split(" ").pop():"";return m(n)}return""},p=function(t){var e,n=t.conversation,a=t.contact,r=n.meta,s=r.assignee,i=r.sender,o=n.id,u=n.custom_attributes,l=void 0===u?{}:u,c=(a||{}).custom_attributes;return f({},{"contact.name":m((null==i?void 0:i.name)||""),"contact.first_name":v({user:i}),"contact.last_name":g({user:i}),"contact.email":null==i?void 0:i.email,"contact.phone":null==i?void 0:i.phone_number,"contact.id":null==i?void 0:i.id,"conversation.id":o,"agent.name":m((null==s?void 0:s.name)||""),"agent.first_name":v({user:s}),"agent.last_name":g({user:s}),"agent.email":null!=(e=null==s?void 0:s.email)?e:""},Object.entries(null!=l?l:{}).reduce((function(t,e){var n=e[0],a=e[1];return t["conversation.custom_attribute."+n]=a,t}),{}),Object.entries(null!=c?c:{}).reduce((function(t,e){var n=e[0],a=e[1];return t["contact.custom_attribute."+n]=a,t}),{}))},b=function(t){var e=t.message,n=t.variables;return null==e?void 0:e.replace(h,(function(t,e){return n[e.trim()]?n[e.trim().toLowerCase()]:""}))},y=function(t){var e=t.message,n=t.variables,a=e.replace(/```(?:.|\n)+?```/g,"").match(h);return a?a.map((function(t){return t.replace("{{","").replace("}}","").trim()})).filter((function(t){return void 0===n[t]})):[]}},129:function(t,e,n){"use strict";n(43);var a=n(605);e.a={methods:{formatMessage:function(t,e,n){return new a.a(t,e,n).formattedMessage},getPlainText:function(t,e){return new a.a(t,e).plainText},truncateMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length<100?t:"".concat(t.slice(0,97),"...")}}}},2252:function(t,e,n){var a=n(33),r=n(266);t.exports=function(t){return a((function(){return!!r[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||r[t].name!==t}))}},2253:function(t,e,n){"use strict";n(657)},2254:function(t,e,n){"use strict";n(658)},264:function(t,e,n){"use strict";var a=n(35),r=n(265).trim;a({target:"String",proto:!0,forced:n(2252)("trim")},{trim:function(){return r(this)}})},3520:function(t,e,n){},3521:function(t,e,n){},3522:function(t,e,n){},364:function(t,e,n){"use strict";n(28),n(37),n(185),n(125),n(58);var a={name:"Avatar",props:{username:{type:String,default:""},size:{type:Number,default:40}},computed:{style:function(){return{fontSize:"".concat(Math.floor(this.size/2.2),"px")}},userInitial:function(){var t=this.username.split(/[ -]/).reduce((function(t,e){return t+e.charAt(0)}),"");return t.length>2&&-1!==t.search(/[A-Z]/)&&(t=t.replace(/[a-z]+/g,"")),t=t.substring(0,2).toUpperCase()},getColorCode:function(){var t=this.username.toUpperCase().charCodeAt(0);return t%4===0?"_red":t%4===1?"_blue":t%4===2?"_green":t%4===3?"_purple":"_sky"}}},r=(n(2253),n(1)),s=Object(r.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"avatar-container",class:t.getColorCode,style:t.style,attrs:{"aria-hidden":"true"}},[t._v("\n  "+t._s(t.userInitial)+"\n")])}),[],!1,null,"4ebbf336",null);e.a=s.exports},3714:function(t,e,n){"use strict";n(3520)},3715:function(t,e,n){"use strict";n(3521)},3716:function(t,e,n){"use strict";n(3522)},3762:function(t,e,n){"use strict";n.r(e);n(7),n(4),n(5),n(9),n(6),n(10);var a=n(228),r=n(3),s=n(123),i=n(1083),o=(n(36),n(43),n(19),n(61)),u={name:"GroupedAvatars",components:{Thumbnail:o.a},props:{users:{type:Array,default:function(){return[]}}}},l=n(1),c={name:"AvailableAgents",components:{GroupedAvatars:Object(l.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex"},t._l(t.users,(function(t,e){return n("span",{key:t.id,class:(e?"-ml-4":"")+" inline-block rounded-full text-white shadow-solid"},[n("thumbnail",{attrs:{size:"40px",username:t.name,src:t.avatar,alt:t.name,"has-border":""}})],1)})),0)}),[],!1,null,null,null).exports},props:{agents:{type:Array,default:function(){return[]}}},computed:{users:function(){return this.agents.slice(0,5).map((function(t){return{id:t.id,avatar:t.avatar_url,name:t.name}}))}}},d=Object(l.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("grouped-avatars",{attrs:{users:t.users}})}),[],!1,null,null,null).exports,f=n(659),h=n(591),m=n(710),v=n(183),g=n(709),p=n(83);function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){C(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function C(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={name:"TeamAvailability",components:{AvailableAgents:d,CustomButton:f.a},mixins:[a.a,i.a,h.a,v.a,m.a,g.a],props:{availableAgents:{type:Array,default:function(){}},hasConversation:{type:Boolean,default:!1}},computed:y(y({},Object(r.mapGetters)({widgetColor:"appConfig/getWidgetColor",currentUser:"contacts/getCurrentUser"})),{},{textColor:function(){return Object(s.d)(this.widgetColor)},isOnline:function(){var t=this.channelConfig.workingHoursEnabled,e=this.availableAgents.length>0;return t?this.isInBetweenTheWorkingHours:e},isContinueConversation:function(){return this.hasConversation&&!this.hasShowConversationHistory},availabilityText:function(){return this.isOnline||window.hooryWebChannel.assistantType?this.$t("TEAM_AVAILABILITY.ONLINE"):this.$t("TEAM_AVAILABILITY.OFFLINE")},shouldForceLogin:function(){return!(this.currentUser&&(this.currentUser.email||this.currentUser.identifier))&&window.hooryWebChannel.enforceIdentityUrl},startConversationText:function(){return this.shouldForceLogin?this.$t("LOGIN_TO_START_CONVERSATION"):this.isContinueConversation?this.$t("CONTINUE_CONVERSATION"):this.$t("START_CONVERSATION")}}),methods:{openLoginUrl:function(){p.a.sendMessage({event:"openLink",data:{url:window.hooryWebChannel.enforceIdentityUrl,target:"_self"}})},startConversation:function(){this.shouldForceLogin?this.openLoginUrl():(this.isContinueConversation||this.cleanCurrentConversation(),this.$emit("start-conversation",this.isContinueConversation))}}},w=(n(3714),Object(l.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"px-5 light-box-bg",class:t.$dm("bg-slate-50","dark:bg-slate-900")},[n("div",{staticClass:"flex items-center justify-between mb-3"},[n("div",{staticClass:"max-w-xs",class:t.$dm("text-black-900","dark:text-slate-25")},[n("div",{staticClass:"text-base leading-5 font-medium mb-1"},[t._v("\n        "+t._s(t.availabilityText)+"\n      ")]),t._v(" "),n("div",{staticClass:"text-xs leading-4 mt-1",class:t.$dm("text-black-700","dark:text-slate-50")},[t._v("\n        "+t._s(t.isAssistantAttached?t.$t("REPLY_TIME.IN_A_FEW_SECONDS"):t.replyWaitMessage)+"\n      ")])]),t._v(" "),t.isOnline?n("available-agents",{attrs:{agents:t.availableAgents}}):t._e()],1),t._v(" "),n("custom-button",{staticClass:"font-medium",staticStyle:{"border-radius":"9px"},attrs:{block:"","bg-color":t.widgetColor,"text-color":t.textColor},on:{click:t.startConversation,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.startConversation(e)}}},[t._v("\n    "+t._s(t.startConversationText)+"\n  ")])],1)}),[],!1,null,"6cd9b0f2",null).exports),_=(n(28),n(320)),S=n(178),O=n(129),A={name:"ConversationItem",components:{Thumbnail:o.a,FluentIcon:S.a},mixins:[_.a,v.a,O.a],props:{conversationId:{type:Number,default:0},conversationDid:{type:Number,default:0},conversationStatus:{type:String,default:""},isTyping:{type:Boolean,default:!1},agentName:{type:String,default:""},agentAvatar:{type:String,default:""},lastMessage:{type:Object,default:null},unreadCount:{type:Number,default:0},status:{type:String,default:""},customAttributes:{type:Object,default:function(){return null}},inQueue:{type:Boolean,default:!1},archived:{type:Boolean,default:!1}},computed:{badgeClasses:function(){return{"open-and-snoozed-badge":"open"===this.status||"snoozed"===this.status,"resolved-badge":"resolved"===this.status,"pending-badge":"pending"===this.status}},badgeText:function(){return{open:this.$t("STATUS_BADGES.OPEN"),resolved:this.$t("STATUS_BADGES.RESOLVED"),pending:this.$t("STATUS_BADGES.PENDING"),snoozed:this.$t("STATUS_BADGES.SNOOZED")}[this.status]},lastMessageContent:function(){return this.lastMessage?"form"===this.lastMessage.content_type&&"bot_form"===this.lastMessage.content?"Question Form":this.lastMessage.content:""}},methods:{goToConversation:function(){if(window.logger.logUserAction("info","Conversation item clicked going to conversation",{data:{conversationId:this.conversationId,conversationDid:this.conversationDid,conversationStatus:this.conversationStatus,customAttributes:this.customAttributes,in_queue:this.inQueue,archived:this.archived}}),!(window.hooryWebChannel.enforceIdentityUrl&&!this.currentUser.identifier))return this.replaceRoute("messages",{conversation:this.conversationId,conversationDid:this.conversationDid,conversationStatus:this.conversationStatus,customAttributes:this.customAttributes,in_queue:this.inQueue,archived:this.archived},!0)}}};n(3715);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){T(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I={name:"Home",components:{TeamAvailability:w,ConversationItem:Object(l.a)(A,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rounded-lg p-3 flex gap-3 mb-1 cursor-pointer relative",class:t.$dm("bg-white","dark:bg-slate-950 dark:text-white"),attrs:{role:"button","aria-label":"Go to conversation",tabindex:"0"},on:{click:t.goToConversation,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goToConversation(e)}}},[n("div",{staticClass:"flex flex-col"},[n("thumbnail",{attrs:{size:"36px",username:t.agentName,src:t.agentAvatar}})],1),t._v(" "),n("div",{staticClass:"custom-width"},[n("div",{staticClass:"flex items-center justify-between pb-1"},[n("span",{staticClass:"font-bold text-sm"},[t._v(t._s(t.agentName))]),t._v(" "),t.archived?n("span",{staticClass:"py-1 px-3 rounded-2xl text-xs border border-solid text-woot-900 flex relative pending-badge"},[t._v("\n        "+t._s(t.$t("STATUS_BADGES.ARCHIVED"))+"\n      ")]):n("span",{staticClass:"py-1 px-3 rounded-2xl text-xs border border-solid text-woot-900 flex relative",class:t.badgeClasses},["resolved"===t.status?n("fluent-icon",{staticClass:"resolved-icon",attrs:{icon:"check-mark-circle",size:"26"}}):t._e(),t._v("\n        "+t._s(t.badgeText)+"\n      ")],1)]),t._v(" "),t.unreadCount>0?n("span",{staticClass:"bg-red-50 text-red-900 font-semibold rounded-full ml-1 text-xs inline-flex gap-1 items-center transform scale-90 absolute unread-messages-badge",class:{"mr-6":"resolved"===t.status,"mr-4":"pending"===t.status}},[n("fluent-icon",{attrs:{icon:"unread-message",size:"15"}}),t._v("\n      "+t._s(t.unreadCount)+"\n    ")],1):t._e(),t._v(" "),t.isTyping?n("div",{staticClass:"italic text-black-700 absolute bg-white typing-badge",class:t.$dm("","dark:bg-slate-950 dark:text-white")},[t._v("\n      "+t._s(t.$t("AGENT_IS_TYPING",{agent:t.agentName}))+"\n    ")]):t._e(),t._v(" "),n("div",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.formatMessage(t.lastMessageContent),expression:"formatMessage(lastMessageContent)"}],staticClass:"text-sm leading-5 text-gray-800 clamp-2"})])])}),[],!1,null,"ef6fb990",null).exports},mixins:[a.a,_.a,v.a],props:{hasFetched:{type:Boolean,default:!1},isCampaignViewClicked:{type:Boolean,default:!1}},data:function(){return{}},computed:E(E({},Object(r.mapGetters)({availableAgents:"agent/availableAgents",activeCampaign:"campaign/getActiveCampaign",conversationSize:"conversation/getConversationSize",allConversations:"conversation/getAllConversations",hasLoadedConversations:"conversation/getHasLoadedConversations",isFetchingConversationList:"conversation/getIsFetchingConversationList"})),{},{shouldShowEmptyConversation:function(){return this.hasLoadedConversations&&!this.isFetchingConversationList&&0===this.allConversations.length}}),mounted:function(){window.logger.logUserAction("info","Home mounted"),this.hasShowConversationHistory&&this.$store.dispatch("conversation/getConversationList")},methods:{startConversation:function(t){return window.logger.logUserAction("info","Start conversation clicked",{data:{preChatFormEnabled:this.preChatFormEnabled,conversationSize:this.conversationSize,isRuleBasedAssistant:this.isRuleBasedAssistant()}}),t||!this.preChatFormEnabled||this.isRuleBasedAssistant()?this.replaceRoute("messages"):this.replaceRoute("prechat-form")},isRuleBasedAssistant:function(){return"rule-based"===window.hooryWebChannel.assistantType}}},N=(n(3716),Object(l.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-1 flex-col justify-end"},[n("div",{staticClass:"flex flex-1 flex-col px-4"},[t.hasShowConversationHistory?n("span",{staticClass:"font-bold py-4",class:t.$dm("text-black-900","dark:text-white")},[t._v("\n      "+t._s(t.$t("CONVERSATIONS"))+"\n      "+t._s(t.allConversations.length>0?"("+t.allConversations.length+")":"")+"\n    ")]):t._e(),t._v(" "),t.hasShowConversationHistory?n("div",{staticClass:"flex overflow-auto flex-col list-wrapper",class:{"justify-center -mt-6":t.shouldShowEmptyConversation}},[t.allConversations.length>0?n("div",t._l(t.allConversations,(function(t){return n("conversation-item",{key:t.id,attrs:{"conversation-id":t.id,"conversation-did":t.display_id,"conversation-status":t.status,"agent-name":t.agent.name,"agent-avatar":t.agent.avatar,"last-message":t.last_message,status:t.status,"in-queue":t.in_queue,archived:t.archived,"custom-attributes":t.custom_attributes,"unread-count":t.unread_count,"is-typing":t.is_agent_typing}})})),1):t.shouldShowEmptyConversation?n("div",{staticClass:"flex flex-col text-center"},[n("img",{staticClass:"mb-3 self-center empty-images",attrs:{alt:"No conversation",src:"assets/images/widget/empty-conversation.svg"}}),t._v(" "),n("h3",{staticClass:"text-md font-semibold text-black-700"},[t._v("\n          "+t._s(t.$t("NO_CONVERSATION_TITLE"))+"\n        ")]),t._v(" "),n("p",{staticClass:"text-xs mt-2 text-black-500"},[t._v("\n          "+t._s(t.$t("NO_CONVERSATION_SUB_TITLE"))+"\n        ")])]):t._e()]):t._e()]),t._v(" "),n("team-availability",{attrs:{"available-agents":t.availableAgents,"has-conversation":!!t.conversationSize},on:{"start-conversation":t.startConversation}})],1)}),[],!1,null,"71839262",null));e.default=N.exports},562:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}));n(264),n(37),n(58);var a=function(){var t=12*(window.devicePixelRatio||1),e=document.createElement("canvas");if(!e.getContext||!e.getContext("2d")||"function"!==typeof e.getContext("2d").fillText)return!1;var n=e.getContext("2d");return n.fillStyle="#f00",n.textBaseline="top",n.font="32px Arial",n.fillText("\ud83d\udc28",0,0),0!==n.getImageData(t,t,1,1).data[0]},r=function(t){return t?t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"").replace(/\s+/g," ").trim():""}},605:function(t,e,n){"use strict";n(37),n(58);var a=n(660),r=n.n(a),s=(n(43),n(363),n(561),n(99),/mention:\/\/(user|team)\/(\d+)\/(.+)/gm);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var u=n(391)({html:!1,xhtmlOut:!0,breaks:!0,langPrefix:"language-",linkify:!0,typographer:!0,quotes:"\u201c\u201d\u2018\u2019",maxNesting:20}).disable(["image"]).use((function(t){t.renderer.rules.mention=function(t,e){return'<span class="prosemirror-mention-node">'.concat(t[e].content,"</span>")},t.inline.ruler.before("link","mention",(function(t,e){var n,a,r,i,o,u,l="",c=t.posMax;return 91===t.src.charCodeAt(t.pos)&&(r=t.pos+1,!((a=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)&&(n=t.src.slice(r,a),(i=a+1)<c&&40===t.src.charCodeAt(i)&&(i+=1,(o=t.md.helpers.parseLinkDestination(t.src,i,t.posMax)).ok&&(l=t.md.normalizeLink(o.str),t.md.validateLink(l)?i=o.pos:l=""),i+=1),!!l.match(new RegExp(s))&&(e||(t.pos=r,t.posMax=a,(u=t.push("mention","")).href=l,u.content=n),t.pos=i,t.posMax=c,!0)))}))})).use(r.a,{attrs:{class:"link",rel:"noreferrer noopener nofollow",target:"_blank"}}),l=/(^|[^@\w])@(\w{1,15})\b/g,c=/(^|\s)#(\w+)/g,d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,t),this.message=e||"",this.isAPrivateNote=a,this.isATweet=n}var e,n,a;return e=t,(n=[{key:"formatMessage",value:function(){var t=this.message;return this.isATweet&&!this.isAPrivateNote&&(t=(t=t.replace(l,"$1[@$2](http://twitter.com/$2)")).replace(c,"$1[#$2](https://twitter.com/hashtag/$2)")),u.render(t)}},{key:"formattedMessage",get:function(){return this.formatMessage()}},{key:"plainText",get:function(){return(new DOMParser).parseFromString(this.formattedMessage,"text/html").body.textContent||""}}])&&o(e.prototype,n),a&&o(e,a),t}();e.a=d},61:function(t,e,n){"use strict";n(28),n(37),n(58),n(25);var a=n(364),r=n(562),s={components:{Avatar:a.a},props:{src:{type:String,default:""},size:{type:String,default:"40px"},badge:{type:String,default:""},username:{type:String,default:""},status:{type:String,default:""},hasBorder:{type:Boolean,default:!1},shouldShowStatusAlways:{type:Boolean,default:!1},title:{type:String,default:""},variant:{type:String,default:"circle"}},data:function(){return{hasImageLoaded:!1,imgError:!1}},computed:{getSrc:function(){return"Hoory"===this.username?"/hoory-circle.svg":this.src},userNameWithoutEmoji:function(){return Object(r.b)(this.username)},showStatusIndicator:function(){return!!this.shouldShowStatusAlways||("online"===this.status||"busy"===this.status)},avatarSize:function(){return Number(this.size.replace(/\D+/g,""))},badgeSrc:function(){return{instagram_direct_message:"instagram-dm",facebook:"messenger","twitter-tweet":"twitter-tweet","twitter-dm":"twitter-dm",whatsapp:"whatsapp",sms:"sms","Channel::Line":"line","Channel::Telegram":"telegram","Channel::WebWidget":""}[this.badge]},badgeStyle:function(){var t=Math.floor(this.avatarSize/3),e="".concat(t+2,"px");return{width:e,height:e,borderRadius:"".concat(t/2,"px")}},statusStyle:function(){var t="".concat(this.avatarSize/4,"px");return{width:t,height:t}},thumbnailClass:function(){var t=this.hasBorder?"border":"",e="circle"===this.variant?"thumbnail-rounded":"thumbnail-square";return"user-thumbnail ".concat(t," ").concat(e)},thumbnailBoxClass:function(){var t="circle"===this.variant?"is-rounded":"";return"user-thumbnail-box ".concat(t)},shouldShowImage:function(){return"Hoory"===this.username||!!this.src&&(!!this.hasImageLoaded&&!this.imgError)}},watch:{src:function(t,e){t!==e&&this.imgError&&(this.imgError=!1)}},methods:{onImgError:function(){this.imgError=!0},onImgLoad:function(){this.hasImageLoaded=!0}}},i=(n(2254),n(1)),o=Object(i.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.thumbnailBoxClass,style:{height:t.size,width:t.size},attrs:{title:t.title}},[n("img",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowImage,expression:"shouldShowImage"}],class:t.thumbnailClass,attrs:{src:t.getSrc},on:{load:t.onImgLoad,error:t.onImgError}}),t._v(" "),n("Avatar",{directives:[{name:"show",rawName:"v-show",value:!t.shouldShowImage,expression:"!shouldShowImage"}],class:t.thumbnailClass,attrs:{username:t.userNameWithoutEmoji,size:t.avatarSize}}),t._v(" "),t.badgeSrc?n("img",{staticClass:"source-badge",style:t.badgeStyle,attrs:{src:"/integrations/channels/badges/"+t.badgeSrc+".png",alt:"Badge"}}):t._e(),t._v(" "),t.showStatusIndicator?n("div",{class:"source-badge user-online-status user-online-status--"+t.status,style:t.statusStyle}):t._e()],1)}),[],!1,null,"0b596ff5",null);e.a=o.exports},657:function(t,e,n){},658:function(t,e,n){},659:function(t,e,n){"use strict";n(7);var a={props:{block:{type:Boolean,default:!1},type:{type:String,default:"blue"},bgColor:{type:String,default:""},textColor:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{buttonClassName:function(){var t="text-white py-3 px-4 rounded shadow-sm leading-4 cursor-pointer disabled:opacity-50";return"clear"===this.type&&(t="flex mx-auto my-2 text-xs w-auto text-black-600"),"blue"!==this.type||Object.keys(this.buttonStyles).length||(t="".concat(t," bg-woot-500 hover:bg-woot-700")),this.block&&(t="".concat(t," w-full")),t},buttonStyles:function(){var t={};return this.bgColor&&(t.backgroundColor=this.bgColor),this.textColor&&(t.color=this.textColor),t}},methods:{onClick:function(t){this.$emit("click",t)}}},r=n(1),s=Object(r.a)(a,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:t.buttonClassName,style:t.buttonStyles,attrs:{disabled:t.disabled},on:{click:t.onClick}},[t._t("default")],2)}),[],!1,null,null,null);e.a=s.exports}}]);
//# sourceMappingURL=64-bb2477506547562a9a8f.chunk.js.map